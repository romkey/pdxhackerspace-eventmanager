<%# SEO Meta Tags %>
<% page_title "Events" %>
<% page_description "Browse all upcoming events, workshops, and meetups at #{@site_config&.organization_name || 'our hackerspace'}." %>
<% canonical_url events_url %>

<%# Breadcrumb JSON-LD %>
<% content_for :json_ld do %>
  <script type="application/ld+json"><%= breadcrumb_json_ld([
    { name: 'Home', url: root_url },
    { name: 'Events', url: events_url }
  ]) %></script>
<% end %>

<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>All Events</h1>
  <div>
    <%= link_to "Calendar View", calendar_path, class: "btn btn-outline-secondary me-2" %>
    <% if can_create_events? %>
      <%= link_to "Create New Event", new_event_path, class: "btn btn-primary" %>
    <% end %>
  </div>
</div>

<% if @events.any? %>
  <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4">
    <% @events.each do |event| %>
      <div class="col">
        <%= render 'event_card', event: event %>
      </div>
    <% end %>
  </div>
<% else %>
  <div class="alert alert-info">
    <p class="mb-0">No events have been created yet.</p>
    <% if can_create_events? %>
      <%= link_to "Create the first event", new_event_path, class: "alert-link" %>
    <% end %>
  </div>
<% end %>
